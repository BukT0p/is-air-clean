<html style="height:90%">
<head>
    <script src="./highcharts-custom.js"></script>
    <style>
        .highcharts-legend-item rect {
            stroke-width: 0.5;
            stroke: rgb(255,255,255);
        }
    </style>
</head>
<body style="height:100%">
<div id="container" style="background: transparent;height:100%"></div>
</body>

<script>
        window.initChart = function (fossil, nuclear, hydro, renewable) {
            var data = [];

            hydro > 0.5 && data.push(['Hydro', hydro]);
            fossil > 0.5 && data.push(['Fossil', fossil]);
            nuclear > 0.5 && data.push(['Nuclear', nuclear]);
            renewable > 0.5 && data.push(['Other renewable', renewable]);

            var chart = new Highcharts.Chart({
                chart: {
                    renderTo:'container',
                    type: 'pie',
                    backgroundColor: null,
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false,
                    spacing:[0,0,0,0]
                },
                credits: {
                    enabled: false
                },
                title: {
                    text: null
                },
                labels: {
                    style:{
                        color: '#FFF',
                        fontSize:'18px'
                    }
                },
                legend: {
                    align: 'right',
                    verticalAlign: 'top',
                    layout: 'vertical',
                    itemStyle: {
                        color: '#FFFFFF'
                    },
                    margin:0,
                    padding:0,
                    y:-10
                },
                tooltip: {
                    enabled: true,
                    animation: true,
                    pointFormat: '{point.percentage:.1f}%'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        borderWidth: '2px',
                        showInLegend: true,
                        colors: ['#673ab7','#009688','#ffab40','#40c4ff'],
                        center: ['50%', '50%'],
                        dataLabels: {
                            enabled: true,
                            distance: -30,
                            style: {
                                fontWeight: 'bold',
                                fontSize: '0.8rem',
                                color: 'white',
                                textShadow: '0px 1px 2px black'
                            },
                            format: '{point.percentage:.0f}%',
                        }
                    }
                },
                series: [{
                    data: data
                }]
            });
        };
    </script>
</html>