<html style="height:91%">
<head>
    <script src="./highcharts-custom.js"></script>
    <style>
        .highcharts-legend-item rect {
        stroke-width: 0.5;
        stroke: rgb(255,255,255);
        }
    </style>
</head>
<body style="height:100%">
<div id="container" style="background: transparent;height:100%"></div>
</body>

<script>
        window.initChart = function (fossil, nuclear, hydro, renewable) {
            var data = [];
            var colors = [];

            hydro > 0.5 && data.push(['Hydro', hydro]) && colors.push('#95e4c5');
            fossil > 0.5 && data.push(['Fossil', fossil]) && colors.push('#8e807f');
            nuclear > 0.5 && data.push(['Nuclear', nuclear]) && colors.push('#eff284');
            renewable > 0.5 && data.push(['Other renewable', renewable]) && colors.push('#40c4ff');

            var chart = new Highcharts.Chart({
                chart: {
                    renderTo:'container',
                    type: 'pie',
                    backgroundColor: null,
                    plotBackgroundColor: null,
                    plotBorderWidth: null,
                    plotShadow: false,
                    spacing:[0,0,0,0]
                },
                credits: {
                    enabled: false
                },
                title: {
                    text: null
                },
                labels: {
                    style:{
                        color: '#FFF',
                        fontSize:'18px'
                    }
                },
                legend: {
                    itemStyle: {
                        color: '#FFFFFF'
                    },
                    margin:0,
                    padding:0,
                    y:-10
                },
                tooltip: {
                    enabled: true,
                    animation: true,
                    pointFormat: '{point.percentage:.1f}%'
                },
                plotOptions: {
                    pie: {
                        allowPointSelect: true,
                        cursor: 'pointer',
                        borderWidth: '2px',
                        showInLegend: true,
                        colors: colors,
                        center: ['50%', '50%'],
                        dataLabels: {
                            enabled: true,
                            distance: -30,
                            style: {
                                fontWeight: 'bold',
                                fontSize: '0.8rem',
                                color: 'white',
                                textShadow: '0px 1px 2px black'
                            },
                            format: '{point.percentage:.0f}%',
                        }
                    }
                },
                series: [{
                    data: data
                }]
            });
        };

</script>
</html>